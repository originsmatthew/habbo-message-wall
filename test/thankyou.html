<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thank You for Your Submission!</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Header included dynamically -->
    <div id="header-placeholder"></div>

    <h1>Thank You for Your Submission!</h1>
    <p>Your message will be reviewed and added to the Wall of Kindness once approved.</p>

    <div id="avatarsContainer" style="display: flex; justify-content: center; align-items: center;">
      <!-- Avatars will be displayed here -->
    </div>

    <p>For any queries, please feel free to contact Matthew on Habbo Origins US.</p>
    <a href="index.html" class="return-home-link">Return to Homepage</a>

    <!-- Footer included dynamically -->
    <div id="footer-placeholder"></div>

    <script>
      // Function to load header and footer dynamically
      function loadContent(selector, file) {
        fetch(file)
          .then(response => response.text())
          .then(data => {
            document.querySelector(selector).innerHTML = data;
          })
          .catch(error => console.error('Error loading content:', error));
      }

      // Load header and footer
      loadContent('#header-placeholder', 'header.html');
      loadContent('#footer-placeholder', 'footer.html');

      // Function to get URL parameters
      function getUrlParameter(name) {
        name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
        const regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
        const results = regex.exec(location.search);
        return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
      }

      // Get the Habbo names from the URL
      const yourHabbo = getUrlParameter('sender');
      const friendHabbo = getUrlParameter('recipient');

      // Display the avatars dynamically with the correct URL and directions
      const avatarsContainer = document.getElementById('avatarsContainer');
      const avatarHTML = `
        <div>
          <img src="https://habboera.com/imager?habbo=${yourHabbo}&size=l&gesture=std&action=wav&direction=8&head_direction=8&headonly=0" alt="${yourHabbo}" />
        </div>
        <div style="font-family: 'Volter Goldfish'; font-size: 2em; margin: 0 10px;">|</div>
        <div>
          <img src="https://habboera.com/imager?habbo=${friendHabbo}&size=l&gesture=std&action=wav&direction=4&head_direction=4&headonly=0" alt="${friendHabbo}" />
        </div>
      `;
      avatarsContainer.innerHTML = avatarHTML;
    </script>

    <script src="app.js"></script>
  </body>
</html>
